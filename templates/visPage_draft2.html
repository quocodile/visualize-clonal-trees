<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/visPage_draft2.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-dispatch@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-selection@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-drag@3"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <title>Document</title>
</head>
<body>
    <div class="site-container">
        <div class="main-site-columns left-column">
            <div class="dropdown distance-measure" id="distance-dropdown">
                <p> </p>
                <label id="metric_drp" for="distance_metric"></label>
                <select name="distance_metric" id="distance_metric" onchange="submit_tree()">
                    <option value="ancestor_descendant_distance">Ancestor-Descendant</option>
                    <option value="parent_child_distance" selected>Parent-Child</option>
                    <option value="caset_distance">CASet</option>
                    <option value="disc_distance">DISC</option>
                </select>
            </div>
            <div><textarea class="text-box" id="tree1-text" name="" cols="30" rows="10">digraph Tree {
                1 [label="A"];
                2 [label="B"];
                3 [label="C"];
                4 [label="D"];
                5 [label="E"];
                6 [label="F"];
                7 [label="G"];
                8 [label="H"];
                9 [label="I"];
                10 [label="J"];
                11 [label="K"];
                12 [label="L"];
                13 [label="M"];
                14 [label="N"];
                15 [label="O"];
                16 [label="P"];
                17 [label="Q"];
                18 [label="R"];
                19 [label="S"];
                20 [label="T"];
                21 [label="U"];
                1 -> 2;
                1 -> 3;
                2 -> 4;
                2 -> 5;
                3 -> 6;
                3 -> 7;
                4 -> 8;
                4 -> 9;
                5 -> 10;
                5 -> 11;
                6 -> 12;
                6 -> 13;
                7 -> 14;
                7 -> 15;
                8-> 16;
                8 -> 17;
                9 -> 18;
                9 -> 19;
                10 -> 20;
                10 -> 21;


            }</textarea></div>
            <div>
                <textarea class="text-box" id="tree2-text" name="" cols="30" rows="10">digraph Tree {
                    1 [label="P, T, S, J, C, A"];
                    2 [label="E, N2, AR, MA"];
                    3 [label="NT, AF"];
                    4 [label="CH"];
                    5 [label="E1, N3"];
                    6 [label="CX"];
                    7 [label="TN"];
                    8 [label="LP, SY"];
                    9 [label="AU"];
                    10 [label="TG"];
                    1 -> 2;
                    2 -> 3;
                    2 -> 4;
                    3 -> 5;
                    5 -> 8;
                    5 -> 7;
                    5 -> 6;
                    7 -> 9;
                    4 -> 10;
                }</textarea>
            </div>
            <div>
                    <input id="submit-trees-btn" type="submit" value="Save">
            </div>
            <div>
                <table id="summary-statistics-table">
                    <tr id="table-name">
                        <th colspan="3">Summary Statistics</th>
                    </tr>
                    <tr>
                        <th></th>
                        <th>Tree 1</th>
                        <th>Tree 2</th>
                    </tr>
                    <tr>
                        <th>Branching Factor</th>
                        <td id="t1-branching-factor"></td>
                        <td id="t2-branching-factor"></td>
                    </tr>
                    <tr>
                        <th>Height</th>
                        <td id="t1-height"></td>
                        <td id="t2-height"></td>
                    </tr>
                    <tr>
                        <th>Number nodes</th>
                        <td id="t1-number-nodes"></td>
                        <td id="t2-number-nodes"></td>
                    </tr>
                    <tr>
                        <th>Number mutations</th>
                        <td id="t1-number-mutations"></td>
                        <td id="t2-number-mutations"></td>
                    </tr>
                    <tr id="top_five">
                        <th>Top 5 Contributions</th>
                        <th id="t1_top5_summary_element"></th>
                        <th id="t2_top5_summary_element"></th>
                    </tr>
                </table>
          </div>
        </div>
        <div class="main-site-columns middle-column">
            <div class="tree1_visualization" id="tree1_visualization">
                <div class="file-upload-container">
                  <label for="file1">
                    <img class="upload-file-icon"style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='upload.png') }}" alt="upload icon"> 
                  </label>
                  <input style="display: none;" class="custom-file-input" type="file" id="file1" name="file1">
                </div>
                    <svg id="svg1" width="100%" height="auto"> 
                    <g id="tree1_visualization_group" transform="translate(550,50)">
                        <g class="links"></g>
                        <g class="nodes"></g>
                    </g>
                    </svg>
            </div>
            <div class="tree2_visualization">
                <div class="file-upload-container">
                  <label for="file2">
                    <img class="upload-file-icon"style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='upload.png') }}" alt="upload icon"> 
                  </label>
                  <input style="display: none;" class="custom-file-input" type="file" id="file2" name="file2">
                </div>
                    <svg id="svg2" width="100%" height="auto"> 
                    <g id="tree2_visualization_group" transform="translate(550,50)">
                        <g class="links"></g>
                        <g class="nodes"></g>
                    </g>
                    </svg>
            </div>
            <div class="legend-component">
                <div class="legend-container" class="singleview" id="anyscale">
                    <div id="distance-measure-label"></div>
                    <div class="legend"></div>
                    <div class="legend-labels-container">
                      <div class="label", id="_colorLabel1">1</div>
                      <div class="label", id="_colorLabel2">2</div>
                      <div class="label", Id="_colorLabel3">3</div>
                      <div class="label", id="_colorLabel4">4</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-site-columns right-column">
                <div id="tree-label-info-container">
                    <div class="tree-label-info"><h3>Distinct Tree 1 Mutations</h3><p id="tree1-mutations"></p></div>
                    <div class="tree-label-info"><h3>Shared Tree Mutations</h3><p id="shared-mutations"></p></div>
                    <div class="tree-label-info"><h3>Distinct Tree 2 Mutations</h3><p id="tree2-mutations"></p></div>
                </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='utils.js') }}"></script>
    <script src="{{ url_for('static', filename='set_functions.js') }}"></script>
    <script src="{{ url_for('static', filename='dual_tree.js') }}"></script>
</body>
</html>
