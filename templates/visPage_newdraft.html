<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/visPage_newdraft.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-dispatch@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-selection@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-drag@3"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/textures@1.2.0/dist/textures.js"></script>
    <script type="text/javascript" src="{{ url_for("flask_util_js") }}"></script>  
    <!--Comment to test-->
    <title>Document</title>
</head>
<body>
    <header>
      <div id="vectr-title">
        Visual Encodings for Clonal Trees

	<button>Docs</button>
	<button>About The Project</button>
	<button> Miscellaneous</button>

      </div>
	 
      </div>
     
     
    </header>
    <div class="site-container">
      	
        <div class="main-site-columns middle-column">
            <div class="tree1_visualization" id="tree1_visualization">	      
                <div class="file-upload-container">
                  <label for="file1">
                    <img class="upload-file-icon"style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='upload.png') }}" alt="upload icon"> 
                  </label>
                  <input style="display: none;" class="custom-file-input" type="file" id="file1" name="file1">
                </div>
                <div>
                    <img class="edit-file-icon" id='edit-tree1-icon' style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='pen.png') }}" alt="edit icon"> 
		    <div class='edit-textarea'>
                      <textarea class="text-box" style="display: none;" id="tree1-text" name="" cols="10" rows="10">
		      </textarea>
                    </div>
                </div>
                <div class="tree-label" style="color: #d95f02;">
                  Tree 1
                </div>
		
		 
		<div>
		  <table id="summary-statistics-table">
		 <tr>
		   <th scope="col">Branching Factor</th>
		    <td id="t1-branching-factor"></td>
		   
		 </tr>
		  <tr>
		    <th scope="col">Height</th>
		     <td id="t1-height"></td>
		  </tr>
		   <tr>
		     <th scope="col">Number of nodes</th>
		     <td id="t1-number-nodes"></td>
		   </tr>
		 <tr>
		   <th scope="col">Number mutations</th>
		   <td id="t1-number-mutations"></td>
		 </tr>
		  <tr>
		     <th scope="col">Top 5 contributors</th>
		    <td id="t1_top5_summary_element"></td>
		   </tr>
		 </table>
		</div>

		
                    <svg id="svg1" width="70%" height="99%"> 
                    <g id="tree1_visualization_group" transform="translate(550,30)">
                        <g class="links"></g>
                        <g class="nodes"></g>
                    </g>
                    </svg>
                <!--<div class="legend-component">
                    <div class="legend-container" class="singleview" id="anyscale">
                        <div class="legend"></div>
                    </div>
                </div>-->
            </div>
            <div class="legend-component">


                <div class="legend-container" class="singleview" id="anyscale">
                    <div id="distance-evaluation-container">
			    <div class="dropdown distance-measure" id="distance-dropdown">
				<p> </p>
				<label id="metric_drp" for="distance_metric"></label>
				<select name="distance_metric" id="distance_metric" onchange="submit_tree()">
				    <option value="ancestor_descendant_distance">Ancestor-Descendant</option>
				    <option value="parent_child_distance" selected>Parent-Child</option>
				    <option value="caset_distance">CASet</option>
				    <option value="disc_distance">DISC</option>
				</select>
			    </div>
			    <div id="distance-measure-label"></div>
                    </div>
                </div>

		<div>
		 <button>?</button>
		</div>
      

	      
              <div id="no-contribution-legend">
                <div id="no-contribution-text">No contribution</div>
                <div id="no-contribution-shape-container">
                  <div id="no-contribution-shape"></div>
                </div>
              </div>
              <div class="legend-container" class="singleview" id="anyscale">
                <div id="less-contribution-label">Less contribution</div>
                <div id="more-contribution-label">More contribution</div>
                <div class="legend"></div>
              </div>
              <div id="texture-legend-container">
                <div class="texture-legend-text">Tree 1</div>
                <div class="texture-legend" id="t1-texture-legend"></div>
                <div class="texture-legend-text">Tree 2</div>
                <div class="texture-legend" id="t2-texture-legend"></div>
              </div>
            </div>
            <div class="tree2_visualization">
                <div class="file-upload-container">
                  <label for="file2">
                    <img class="upload-file-icon"style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='upload.png') }}" alt="upload icon"> 
                  </label>
                  <input style="display: none;" class="custom-file-input" type="file" id="file2" name="file2">
                </div>
                <div>
                    <img class="edit-file-icon" id='edit-tree2-icon' style="cursor: pointer; width: 30px; height: auto;"src="{{ url_for('static', filename='pen.png') }}" alt="edit icon"> 
		    <div class='edit-textarea'>
			<textarea style="display: none;" class="text-box" id="tree2-text" name="" cols="10" rows="10">
			</textarea>
		    </div>
                </div>
                <div class="tree-label" style="color: #7570b3;">
                  Tree 2
                </div>

		<div>
		 <table id="summary-statistics-table">
		 <tr>
		   <th scope="col">Branching Factor</th>
		    <td id="t2-branching-factor"></td>
		   
		 </tr>
		  <tr>
		    <th scope="col">Height</th>
		     <td id="t2-height"></td>
		  </tr>
		   <tr>
		     <th scope="col">Number of nodes</th>
		     <td id="t2-number-nodes"></td>
		   </tr>
		 <tr>
		   <th scope="col">Number mutations</th>
		   <td id="t2-number-mutations"></td>
		 </tr>
		  <tr>
		     <th scope="col">Top 5 contributors</th>
		    <td id="t2_top5_summary_element"></td>
		   </tr>
		 
		 </table>

		
		</div>

		<div id="distinct-mutations-scroll"></div>

		
                <svg id="svg2" width="100%" height="99%"> 
                <g id="tree2_visualization_group" transform="translate(550,30)">
                    <g class="links"></g>
                    <g class="nodes"></g>
                </g>
                </svg>
                <!--<div class="legend-component">
                    <div class="legend-container" class="singleview" id="anyscale">
                        <div class="legend"></div>
                    </div>
                </div>-->
            </div>
        </div>
        <div class="main-site-columns right-column">
          <div class="intersection-union-option">
            <div>
              <div>
                <input type="radio" id="union" name="intersection-union" value="union" checked>
                <label for="intersection-union-option">Union</label>
              </div>
              <div>
                <input type="radio" id="intersection" name="intersection-union" value="intersection">
                <label for="intersection-union-option">Intersection</label>
              </div>
            </div>
          </div>
          <div class="tripartite-component"></div>


 <div class="intersection-union-option">
            <div>
              <div>
                <input type="radio" id="union" name="intersection-union" value="union" checked>
                <label for="intersection-union-option">Union</label>
              </div>
              <div>
                <input type="radio" id="intersection" name="intersection-union" value="intersection">
                <label for="intersection-union-option">Intersection</label>
              </div>
            </div>
          </div>

	  
          <div class="heatmap-component"></div>
        </div>
    </div>
    <div id="modal-container" class="modal hidden">
      <div id="manual-edit-modal">
        <button class="btn-close" onclick="closeManualEditModal()">x</button>
        <textarea class="manual-edit-textarea" id="t1-manual-edit-textarea" name="" cols="10" rows="10"></textarea>
        <textarea class="manual-edit-textarea" id="t2-manual-edit-textarea" name="" cols="10" rows="10"></textarea>
        <button class="btn-submit" onclick="submit_tree()">Save</button>
      </div> 
    </div>
    <script src="{{ url_for('static', filename='utils.js') }}"></script>
    <script src="{{ url_for('static', filename='set_functions.js') }}"></script>
    <script src="{{ url_for('static', filename='dual_tree.js') }}"></script>
</body>
</html>
